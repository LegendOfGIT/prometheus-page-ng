<div class="header">
  <div class="container">
    <div class="row header__content">
      <div class="col-12 header__title">
        <div class="header__menuIcon">
          <i class="fa fa-regular fa-bars" (click)="categorySelection.showModal()"></i>
        </div>

        <h1 class="header__logo" style="cursor: pointer;">
          <a href="/">
            <span class="header__titleCapitalLetter">W</span><span class="header__title">e</span>
            <span class="header__titleCapitalLetter">W</span><span class="header__title">anna</span>

            <span *ngIf="!isHashtagsModule">
              <span class="header__titleSlogan"> {{'NAVIGATION_SLOGAN_' + (activeNavigationItem?.hasSlogan ? activeNavigationItem?.toId || 'ALL' : 'ALL') | translate: 'en_US' }}!</span>
            </span>
            <div>
              <span class="header__title"> {{ activeHashtags.join(' ') }}</span>
            </div>

          </a>
        </h1>

        <div class="header__icons">
          <div class="header__iconWrapper">
            <i
              class="fa fa-heart {{userHasAtLeastOneWishlistItem ? '' : isModuleActive(Module.WISHLIST) ? 'header__icon--activeEmpty' : 'header__icon--empty'}} header__icon {{isModuleActive(Module.WISHLIST) ? 'header__icon--active' : ''}}"
              [routerLink]="['/wishlist']"
            ></i>
          </div>
          <div class="header__iconWrapper">
            <i
              [ngClass]="['fa', 'header__icon', 'fa-globe', isLanguageSelectionOpen ? 'header__icon--active' : 'header__icon--activeEmpty']"
              (click)="isLanguageSelectionOpen = true; languageSelection.showModal()"
            ></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="showSearchBar" class="searchbar">
    <div class="col-12 searchbar__content">
      <input
        #searchPattern
        autocomplete="off"
        autofocus
        tabIndex="0"
        type="search"
        (search)="searchNow()"
        class="searchbar__input"
        placeholder="{{'iAmSearchingFor'|translate}}"
        [formControl]="searchPatternControl"
      />

      <div class="searchbar__inputBox">
        <div class="searchbar__inputButton">
          <i class="fa fa-search" (click)="searchNow()"></i>
        </div>
      </div>
    </div>

    <div *ngIf="suggestions.length">
      <a
        href="{{getSuggestionLink(suggestion)}}"
        *ngFor="let suggestion of suggestions; let i = index;"
        class="col-12 searchbar__content"
        (click)="loadingDialog.showModal();"
      >
        <div [ngClass]="['col-12', 'suggestion__item', 0 === i ? 'suggestion__item--first' : suggestions.length-1 === i ? 'suggestion__item--last' : '']">
          <div class="col-11">
            <div [ngClass]="[ 'suggestion__item--column', 'suggestion__item--trend', 'fa', suggestion.isNewItem() ? 'fa-plus' : suggestion.isSearchItem() ? 'fa-search' : 'fa-chart-line']"></div>
            <div class="suggestion__item--column">
              {{getSuggestionItemPrefix(suggestion) | translate }}{{suggestion.isSearchItem() ? '' : '#'}}{{suggestion.label}}{{getSuggestionItemSuffix(suggestion) | translate }}
            </div>
          </div>
          <div class="col-1 suggestion__item--column suggestion__item--go fa fa-chevron-right"></div>
        </div>
      </a>
    </div>
  </div>

  <a href="https://www.instagram.com/wewannashop2023" title="follow us on instagram" target="ww-instagram">
    <img src="assets/images/instagram-icon.webp" class="socialMedia__icons{{showSearchBar ? '' : ' socialMedia__icons--thinHeader'}} socialMedia__icons--instagram"/>
  </a>
  <a href="https://www.facebook.com/profile.php?id=100095214000161" title="follow us on facebook" target="ww-facebook">
    <img src="assets/images/facebook_icon.png" class="socialMedia__icons{{showSearchBar ? '' : ' socialMedia__icons--thinHeader'}} socialMedia__icons--facebook"/>
  </a>
  <a href="https://www.pinterest.de/wewannashop" title="follow us on pinterest" target="ww-pinterest">
    <img src="assets/images/pinterest.png" class="socialMedia__icons{{showSearchBar ? '' : ' socialMedia__icons--thinHeader'}} socialMedia__icons--pinterest"/>
  </a>
</div>



<dialog #categorySelection class="header__menu">
  <div class="header__menuClose" (click)="categorySelection.close()">
    <i class="fa fa-times-circle"></i>
  </div>
  <div class="header__menuHeader">
    <h4>{{'CATEGORIES' | translate }}</h4>
  </div>
  <div
    *ngFor="let item of categoryItems"
    [ngClass]="['header__menuItem', activeNavigationItem === item ? 'header__menuItem--active' : '']"
    (click)="categorySelection.close(); navigateToCategory(item);"
  >
    {{'NAVIGATION_' + item.toId | translate}}
  </div>
</dialog>

<dialog #loadingDialog id="loadingDialog">
  <app-loading></app-loading>
</dialog>

<dialog #languageSelection id="languageSelection" class="header__menu">
  <div class="header__menuClose" (click)="isLanguageSelectionOpen = false; languageSelection.close()">
    <i class="fa fa-times-circle"></i>
  </div>

  <div class="header__menuHeader">
    <h4>{{'SELECT_LANGUAGE' | translate }}</h4>
  </div>

  <div class="header__menuItem" (click)="switchLanguage('de_DE')">{{ 'languageDeDe' | translate }}</div>
  <div class="header__menuItem" (click)="switchLanguage('en_US')">{{ 'languageEnUs' | translate }}</div>
</dialog>
